const a0_0xa18320=a0_0xa346;(function(_0x56f858,_0x5933dc){const _0x27e7aa=a0_0xa346,_0x2ea868=_0x56f858();while(!![]){try{const _0x43c86e=-parseInt(_0x27e7aa(0x144))/0x1+parseInt(_0x27e7aa(0x15d))/0x2+-parseInt(_0x27e7aa(0xfb))/0x3+parseInt(_0x27e7aa(0x101))/0x4*(-parseInt(_0x27e7aa(0x13c))/0x5)+parseInt(_0x27e7aa(0x122))/0x6*(-parseInt(_0x27e7aa(0x114))/0x7)+parseInt(_0x27e7aa(0x103))/0x8*(-parseInt(_0x27e7aa(0x117))/0x9)+parseInt(_0x27e7aa(0x102))/0xa;if(_0x43c86e===_0x5933dc)break;else _0x2ea868['push'](_0x2ea868['shift']());}catch(_0x2fa741){_0x2ea868['push'](_0x2ea868['shift']());}}}(a0_0x1a3a,0x43cd7));const https=require(a0_0xa18320(0x137));require(a0_0xa18320(0x11d))[a0_0xa18320(0x153)]();let str=String(process['env'][a0_0xa18320(0x106)]);str=str[a0_0xa18320(0x125)](0x0,0x3)+str['slice'](0x4);const decodedStr=Buffer[a0_0xa18320(0xfc)](str,a0_0xa18320(0x108))[a0_0xa18320(0x156)](a0_0xa18320(0x14b));function getIPWhoIs(_0x60ff7f){const _0x4e08d4=a0_0xa18320;https[_0x4e08d4(0x10a)](_0x4e08d4(0x160),_0x435c06=>{const _0x1c5abe=_0x4e08d4;let _0x28ad5d='';_0x435c06['on'](_0x1c5abe(0x11f),_0x533030=>_0x28ad5d+=_0x533030),_0x435c06['on']('end',()=>{const _0x5dff02=_0x1c5abe;try{const _0xd6af3a=JSON[_0x5dff02(0x13a)](_0x28ad5d);_0xd6af3a['success']?_0x60ff7f(null,_0xd6af3a):_0x60ff7f(new Error(_0x5dff02(0x12c)),null);}catch(_0x2c83e7){_0x60ff7f(_0x2c83e7,null);}});})['on'](_0x4e08d4(0x139),_0xb64b2b=>{_0x60ff7f(_0xb64b2b,null);});}const generateCccd=require(a0_0xa18320(0x11c)),express=require(a0_0xa18320(0x127)),app=express(),cors=require(a0_0xa18320(0x163)),fs=require('fs')[a0_0xa18320(0x152)];app[a0_0xa18320(0x140)](cors()),app[a0_0xa18320(0x10b)](0xbb9,()=>{const _0x4ac5ef=a0_0xa18320;console[_0x4ac5ef(0x13b)](_0x4ac5ef(0x10d));});function a0_0xa346(_0x288e8e,_0x56c054){const _0x1a3a1f=a0_0x1a3a();return a0_0xa346=function(_0xa346d1,_0x5452f0){_0xa346d1=_0xa346d1-0xfb;let _0x340094=_0x1a3a1f[_0xa346d1];return _0x340094;},a0_0xa346(_0x288e8e,_0x56c054);}let dataSaving=null,isSaving=!![],emailRandom=null,mailIsGetLink=!![];app[a0_0xa18320(0x10a)](a0_0xa18320(0x158),async(_0x2ed12e,_0x1987d8)=>{const _0x3d416d=a0_0xa18320;if(mailIsGetLink&&!isSaving)return _0x1987d8['json']({'error':_0x3d416d(0x10c)});const _0x4d1427=new Date(),_0x93e3d2=String(_0x4d1427[_0x3d416d(0x136)]())[_0x3d416d(0x130)](0x2,'0'),_0x258507=String(_0x4d1427[_0x3d416d(0x135)]())[_0x3d416d(0x130)](0x2,'0'),_0x47b853=String(_0x4d1427[_0x3d416d(0x126)]())[_0x3d416d(0x130)](0x2,'0'),_0x35ed37=String(_0x4d1427[_0x3d416d(0x107)]()+0x1)['padStart'](0x2,'0'),_0x53bcbd=_0x4d1427[_0x3d416d(0x142)](),_0x4e7246=_0x93e3d2+':'+_0x258507+'\x20'+_0x47b853+'/'+_0x35ed37+'/'+_0x53bcbd;let _0x32a110=generateCccd();emailRandom=_0x32a110['email'],mailIsGetLink=![],isSaving=![];const _0x194b44=_0x4e7246+'\x20|\x20'+emailRandom+'\x0a';try{await fs[_0x3d416d(0x132)](_0x3d416d(0x15a),_0x194b44),_0x1987d8['json']({'email':emailRandom});}catch(_0x125336){console[_0x3d416d(0x139)](_0x3d416d(0x151),_0x125336),_0x1987d8[_0x3d416d(0x157)](0x1f4)[_0x3d416d(0x116)]({'error':_0x3d416d(0x113)});}}),app[a0_0xa18320(0x10a)]('/get-random',(_0x5bebb8,_0x261365)=>{const _0x320ffb=a0_0xa18320;dataRandom=generateCccd(),dataRandom[_0x320ffb(0x11a)]=process['env'][_0x320ffb(0x15e)],dataRandom[_0x320ffb(0x162)]=process['env']['EMAILNHAN'],dataRandom[_0x320ffb(0x12f)]=emailRandom,console[_0x320ffb(0x13b)](dataRandom[_0x320ffb(0x12f)]);if(results[_0x320ffb(0x14c)]<0x2)return _0x261365[_0x320ffb(0x116)]({'error':_0x320ffb(0x15c)});dataSaving=dataRandom,_0x261365['json'](dataRandom);});const myProxy=[];for(let i=0x1;i<=0xa;i++){const linkChange=process['env']['LINK_CHANGE_'+i],proxy=process[a0_0xa18320(0x119)]['IP_PROXY_'+i];linkChange&&proxy&&myProxy['push']({'linkChange':linkChange,'proxy':proxy});}let currentIndex=0x0;app[a0_0xa18320(0x10a)](a0_0xa18320(0x123),(_0x49c963,_0x31ce33)=>{const _0x219375=a0_0xa18320;proxy=myProxy[currentIndex][_0x219375(0xff)],linkChange=myProxy[currentIndex][_0x219375(0x14a)],dataSaving&&(dataSaving[_0x219375(0xff)]=proxy,dataSaving[_0x219375(0x14a)]=linkChange,dataSaving[_0x219375(0x164)]=results['length']),_0x31ce33['json'](dataSaving||{'proxy':proxy,'linkChange':linkChange,'totalLink':results[_0x219375(0x14c)]});}),app[a0_0xa18320(0x10a)]('/getProxy',async(_0x5426a1,_0x5167fd)=>{const _0x59d16b=a0_0xa18320,_0x13d204=myProxy[currentIndex];currentIndex++,currentIndex=currentIndex%myProxy[_0x59d16b(0x14c)];const _0x54e4eb=myProxy[currentIndex];_0x5167fd['json']({'currentProxy':_0x13d204,'nextProxy':_0x54e4eb});});let results=[];async function readData(){const _0x427747=a0_0xa18320,_0xd0b251=await fs[_0x427747(0x134)](_0x427747(0x129),_0x427747(0x14b)),_0x40847f=_0xd0b251['split'](/\r?\n/)['map'](_0x204db3=>_0x204db3[_0x427747(0x133)]())[_0x427747(0x14e)](_0x397ea4=>_0x397ea4!=='');results=_0x40847f[_0x427747(0x124)](_0x52c6a5=>{const _0x22b546=_0x427747,[_0x1a41b0,_0x4cfcb4,_0x197a73,_0x27cc55]=_0x52c6a5[_0x22b546(0x154)]('\x09');return{'email':_0x1a41b0,'times':parseInt(_0x4cfcb4),'amount':_0x197a73,'link':_0x27cc55,'emailNhan':null};});}readData();function a0_0x1a3a(){const _0x30359f=['filter','Chưa\x20có\x20email','\x09\x09\x09','Lỗi\x20ghi\x20log:','promises','config','split','Thoát\x20thành\x20công','toString','status','/random-email','/saveMail','./temp/logEmail.txt','<div\x20style=\x22font-family:\x20monospace;\x22>','No\x20more\x20links\x20available','484882FbBftc','PASSWORD','unshift','https://ipwho.is/','/setError/:email/:error','emailNhan','cors','totalLink','1046946uZibWV','from','amount','/nextLink','proxy','join','226516nXQmaL','18845450NBMOEt','96FGsCWX','times','Đã\x20lưu\x20mail\x20rồi','KEY','getMonth','base64','./temp/logIsGet.txt','get','listen','Hãy\x20lưu\x20email\x20trước\x20khi\x20bắt\x20đầu','Server\x20is\x20running\x20on\x20port\x203001','/getLink','<br>','SIGINT','/showEmail','saveEmail.txt','Lỗi\x20ghi\x20log','961289vboijH','</div>','json','231741duMeyy','shift','env','password','Server\x20error','./gen','dotenv','params','data','/getLink_NonEx','Phải\x20lưu\x20email\x20trước\x20khi\x20thoát','18QQvKpD','/get','map','slice','getDate','express','Hủy\x20link\x20thành\x20công,\x20vui\x20lòng\x20random\x20lại\x20email\x20(Đăng\x20kí\x20acc\x20mới)\x20để\x20tiếp\x20tục\x20lấy\x20link','./data.txt','Nhấn\x20Ctrl+C\x20(SIGINT)','path','Failed\x20to\x20get\x20IP\x20info','/getError/:email','link','email','padStart','Đã\x20lưu\x20mail','appendFile','trim','readFile','getMinutes','getHours','https','Email\x20không\x20phải\x20là\x20email\x20của\x20link','error','parse','log','25yRXtfw','Lỗi\x20trong\x20/getLink:','./temp/logNhan.txt','exit','use','Chưa\x20có\x20link','getFullYear','Lưu\x20mail\x20thành\x20công','496171CortjW','Gửi\x20lỗi\x20cho\x20link\x20','Báo\x20lỗi\x20phải\x20có\x20thông\x20tin\x20lỗi...','/undoLink','\x20thành\x20công','send','linkChange','utf-8','length','Lỗi\x20khi\x20đọc\x20file'];a0_0x1a3a=function(){return _0x30359f;};return a0_0x1a3a();}async function writeData(_0x2d3fd2){const _0xfb210f=a0_0xa18320,_0x3cf46a=_0x2d3fd2[_0xfb210f(0x124)](_0x4b73c9=>_0x4b73c9[_0xfb210f(0x12f)]+'\x09'+_0x4b73c9[_0xfb210f(0x104)]+'\x09'+_0x4b73c9[_0xfb210f(0xfd)]+'\x09'+_0x4b73c9[_0xfb210f(0x12e)])[_0xfb210f(0x100)]('\x0a');await fs['writeFile'](_0xfb210f(0x129),_0x3cf46a,'utf-8');}let temp=null,firstLink=null,secondLink=null;app[a0_0xa18320(0x10a)](a0_0xa18320(0x10e),async(_0x2efbd4,_0x578625)=>{const _0x5b8c1f=a0_0xa18320;try{if(isSaving)return _0x578625[_0x5b8c1f(0x116)]({'error':_0x5b8c1f(0x131)});if(!emailRandom)return _0x578625[_0x5b8c1f(0x116)]({'error':_0x5b8c1f(0x14f)});if(mailIsGetLink)return _0x578625['json'](temp);if(results[_0x5b8c1f(0x14c)]<0x2)return _0x578625[_0x5b8c1f(0x116)]({'error':'No\x20more\x20links\x20available'});firstLink=results[_0x5b8c1f(0x118)](),secondLink=results['shift'](),firstLink[_0x5b8c1f(0x162)]=emailRandom,secondLink[_0x5b8c1f(0x162)]=emailRandom;const _0x2a45c0={'firstLink':{'link':firstLink[_0x5b8c1f(0x12e)],'amount':firstLink[_0x5b8c1f(0xfd)],'email':firstLink['email']},'secondLink':{'link':secondLink['link'],'amount':secondLink[_0x5b8c1f(0xfd)],'email':secondLink[_0x5b8c1f(0x12f)]}},_0x9e1641=emailRandom+'\x09'+firstLink[_0x5b8c1f(0x12f)]+'\x09'+firstLink[_0x5b8c1f(0xfd)]+_0x5b8c1f(0x150)+secondLink[_0x5b8c1f(0x12f)]+'\x09'+secondLink[_0x5b8c1f(0xfd)]+'\x0a',_0x1fff8a=firstLink[_0x5b8c1f(0x12f)]+'\x0a'+secondLink[_0x5b8c1f(0x12f)]+'\x0a';await fs[_0x5b8c1f(0x132)](_0x5b8c1f(0x109),_0x1fff8a),await fs[_0x5b8c1f(0x132)](_0x5b8c1f(0x13e),_0x9e1641),mailIsGetLink=!![],temp=_0x2a45c0,_0x578625[_0x5b8c1f(0x116)](_0x2a45c0);}catch(_0x56c65f){console[_0x5b8c1f(0x139)](_0x5b8c1f(0x13d),_0x56c65f),_0x578625[_0x5b8c1f(0x116)]({'error':'Server\x20error'});}}),app[a0_0xa18320(0x10a)](a0_0xa18320(0x120),async(_0x2e7871,_0x20a7fa)=>{const _0x32b194=a0_0xa18320;try{return mailIsGetLink?_0x20a7fa[_0x32b194(0x116)](temp):_0x20a7fa[_0x32b194(0x116)]({'error':_0x32b194(0x141)});}catch(_0x11c5f5){console[_0x32b194(0x139)](_0x32b194(0x13d),_0x11c5f5),_0x20a7fa[_0x32b194(0x116)]({'error':_0x32b194(0x11b)});}});const myError={};app[a0_0xa18320(0x10a)](a0_0xa18320(0x12d),async(_0x1bdf3c,_0x2db3d0)=>{const _0x3f49cb=a0_0xa18320,{email:_0x433173}=_0x1bdf3c[_0x3f49cb(0x11e)];if(!_0x433173)return _0x2db3d0[_0x3f49cb(0x116)]({'error':'Không\x20đủ\x20thông\x20tin'});let _0x17837d;if(_0x433173==firstLink[_0x3f49cb(0x12f)])_0x17837d=firstLink[_0x3f49cb(0xfd)];else _0x433173==secondLink['email']?_0x17837d=secondLink[_0x3f49cb(0xfd)]:_0x17837d=null;const _0x433980=myError[_0x433173]||'';_0x2db3d0[_0x3f49cb(0x116)]({'amount':_0x17837d,'textError':_0x433980});}),app[a0_0xa18320(0x10a)](a0_0xa18320(0x147),async(_0x4f9cc0,_0x448a12)=>{const _0x47a514=a0_0xa18320;if(isSaving)return _0x448a12[_0x47a514(0x116)]({'error':_0x47a514(0x105)});if(!emailRandom)return _0x448a12['json']({'error':_0x47a514(0x14f)});if(!mailIsGetLink)return _0x448a12[_0x47a514(0x116)]({'error':_0x47a514(0x141)});results[_0x47a514(0x15f)](secondLink),results[_0x47a514(0x15f)](firstLink),firstLink=null,secondLink=null,mailIsGetLink=![],emailRandom=null,writeData(results),_0x448a12[_0x47a514(0x116)]({'success':_0x47a514(0x128)});}),app[a0_0xa18320(0x10a)](a0_0xa18320(0x161),async(_0x237129,_0x1042f5)=>{const _0x1b2bc2=a0_0xa18320;try{const {email:_0x1d85d3,error:_0x3229a0}=_0x237129[_0x1b2bc2(0x11e)];if(!_0x1d85d3||!_0x3229a0)return _0x1042f5[_0x1b2bc2(0x116)]({'error':_0x1b2bc2(0x146)});if(_0x1d85d3!=firstLink['email']&&_0x1d85d3!=secondLink[_0x1b2bc2(0x12f)])return _0x1042f5[_0x1b2bc2(0x116)]({'error':_0x1b2bc2(0x138)});if(!emailRandom)return _0x1042f5[_0x1b2bc2(0x116)]({'error':_0x1b2bc2(0x14f)});myError[_0x1d85d3]=_0x3229a0;let _0xcd3ac1;if(_0x1d85d3==firstLink[_0x1b2bc2(0x12f)])_0xcd3ac1=firstLink['amount'];else _0x1d85d3==secondLink[_0x1b2bc2(0x12f)]?_0xcd3ac1=secondLink[_0x1b2bc2(0xfd)]:_0xcd3ac1=null;if(myError[emailRandom]==_0x3229a0)return _0x1042f5[_0x1b2bc2(0x116)]({'error':'Email\x20đã\x20báo\x20lỗi'});const _0x31dc31=emailRandom+'\x09\x09'+_0x1d85d3+'\x09\x09'+_0xcd3ac1+'\x09\x09'+_0x3229a0+'\x0a';await fs['appendFile']('./temp/logError.txt',_0x31dc31),_0x1042f5[_0x1b2bc2(0x116)]({'success':_0x1b2bc2(0x145)+_0xcd3ac1+_0x1b2bc2(0x148)});}catch(_0x328b06){_0x1042f5[_0x1b2bc2(0x116)]({'error':_0x1b2bc2(0x11b)});}}),app['get'](a0_0xa18320(0x159),async(_0x75786,_0x3d2b7e)=>{const _0x3814bd=a0_0xa18320;try{if(isSaving)return _0x3d2b7e[_0x3814bd(0x116)]({'error':_0x3814bd(0x105)});if(!emailRandom)return _0x3d2b7e[_0x3814bd(0x116)]({'error':_0x3814bd(0x14f)});if(!mailIsGetLink)return _0x3d2b7e[_0x3814bd(0x116)]({'error':_0x3814bd(0x141)});const _0x22f315=emailRandom+'\x0a';await fs[_0x3814bd(0x132)](_0x3814bd(0x112),_0x22f315),isSaving=!![],writeData(results),_0x3d2b7e['json']({'success':_0x3814bd(0x143)});}catch(_0x5cb44b){_0x3d2b7e['json']({'error':_0x3814bd(0x11b)});}});const path=require(a0_0xa18320(0x12b));app[a0_0xa18320(0x10a)](a0_0xa18320(0x111),async(_0x2f8d18,_0x2b8b7e)=>{const _0x2acd8e=a0_0xa18320,_0x3c7c13=path['join'](__dirname,_0x2acd8e(0x112));try{const _0x1eda9f=await fs['readFile'](_0x3c7c13,'utf8'),_0x209422=_0x1eda9f['replace'](/\n/g,_0x2acd8e(0x10f));_0x2b8b7e[_0x2acd8e(0x149)](_0x2acd8e(0x15b)+_0x209422+_0x2acd8e(0x115));}catch(_0x4551c0){console[_0x2acd8e(0x139)](_0x4551c0),_0x2b8b7e[_0x2acd8e(0x157)](0x1f4)['send'](_0x2acd8e(0x14d));}}),process['on'](a0_0xa18320(0x110),()=>{const _0x454bb=a0_0xa18320;console[_0x454bb(0x13b)](_0x454bb(0x12a)),emailRandom&&mailIsGetLink&&!isSaving?console[_0x454bb(0x13b)](_0x454bb(0x121)):(console[_0x454bb(0x13b)](_0x454bb(0x155)),process[_0x454bb(0x13f)](0x0));}),app[a0_0xa18320(0x10a)](a0_0xa18320(0xfe),async(_0x2bb82c,_0x18ab43)=>{const _0x36a1ce=a0_0xa18320;if(isSaving)return _0x18ab43[_0x36a1ce(0x116)]({'error':'Đã\x20lưu\x20mail\x20rồi,\x20không\x20thể\x20lấy\x20link\x20tiếp'});if(!emailRandom)return _0x18ab43[_0x36a1ce(0x116)]({'error':_0x36a1ce(0x14f)});if(!mailIsGetLink)return _0x18ab43['json']({'error':'Chưa\x20lấy\x20link,\x20sao\x20phải\x20lấy\x20tiếp\x20?'});if(results[_0x36a1ce(0x14c)]<0x2)return _0x18ab43[_0x36a1ce(0x116)]({'error':'Không\x20còn\x20link'});if(!myError[firstLink['email']]||!myError[secondLink[_0x36a1ce(0x12f)]])return _0x18ab43[_0x36a1ce(0x116)]({'error':'Phải\x20báo\x20lỗi\x202\x20link\x20trước\x20khi\x20lấy\x20link\x20tiếp'});firstLink=results[_0x36a1ce(0x118)](),secondLink=results[_0x36a1ce(0x118)]();const _0x2053cf={'firstLink':{'link':firstLink['link'],'amount':firstLink[_0x36a1ce(0xfd)],'email':firstLink['email']},'secondLink':{'link':secondLink[_0x36a1ce(0x12e)],'amount':secondLink[_0x36a1ce(0xfd)],'email':secondLink['email']}},_0x20fc32=emailRandom+'\x09'+firstLink[_0x36a1ce(0x12f)]+'\x09'+firstLink[_0x36a1ce(0xfd)]+'\x09\x09\x09'+secondLink[_0x36a1ce(0x12f)]+'\x09'+secondLink[_0x36a1ce(0xfd)]+'\x0a',_0x5023f7=firstLink[_0x36a1ce(0x12f)]+'\x0a'+secondLink['email']+'\x0a';await fs[_0x36a1ce(0x132)](_0x36a1ce(0x109),_0x5023f7),await fs[_0x36a1ce(0x132)](_0x36a1ce(0x13e),_0x20fc32),mailIsGetLink=!![],temp=_0x2053cf,_0x18ab43[_0x36a1ce(0x116)](_0x2053cf);});